<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Special Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="static/jquery-1.10.2.js"> </script>
  <script src="static/checker.js" type="text/javascript" > </script>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Your page title here :)</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="static/normalize.css">
  <link rel="stylesheet" href="static/skeleton.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="twelve columns" style="margin-top: 25%">
	<h1>Hi</h2>
	<p> This is a simple URL checker.</p>
	<p> Please put the list of URLs you want to check, as the href attribute of an A element each. In the text of the A element, place the validation it has to pass. Currently supported "200" for successful request and "500" for failing requests.</p>
	<p>For more detail, see the example below, or even the code</p>
	<div id="tocheck">
	<!--
	<a class="check" href="example_of_url">test_to_validate</a>
	-->
	<a class="button" href="http://chef.picsolve.net">200</a>
	<a class="button" href="https://jenkins-london-internal.picsolve.net">200</a>
	<a class="button" href="http://jenkins-london-internal.picsolve.net">500</a>
	<a class="button" href="http://artifactory.dev.services.picsolve.net:8081">200</a>
	<a class="button" href="http://aoeuaoeuaoeuaoeuaoeuc">200</a>
	<a class="button" href="http://google.co.uk">404</a>
	</div> <!-- tocheck -->

      </div>
    </div>
  </div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->


<script type="text/javascript">

// And now we use jQuery to call the tester function, replacing the test with the result

$( function () {
	//do your stuff here
$( "a" ).each(function( index, obj )
{
	var that = this
	var spec = $(this).text();
	var url = $(this).attr("href")
	// Then do the query and wait for results
	check = verify_url(spec, url)
	//And now we do the magic, replacing the text with results
	check.done( function(response_data, responseText, xhrObject){
		console.log("this is how we roll")
		console.log(response_data)
		console.log(responseText)
		console.log(xhrObject)
		if (check != "Ok")
		{ //If the test failed, do magic and paint button red
			obj.style.backgroundColor = "red";
			obj.style.color = "white";
			result_display = url + " test failed: \n" + check 
		} else {
			//if passes, paint it green
			obj.style.backgroundColor = "green";
			obj.style.color = "white";
			result_display = check
		}
		$(that).text( result_display ); 
	});
})

//end of async stuff

});

</script>
	
</body>
</html>


